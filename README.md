# Проект anti-bruteforce

[![Checks status](https://github.com/Pos1t1veM1ndset/anti-bruteforce/actions/workflows/tests&lint.yml/badge.svg)](https://github.com/Pos1t1veM1ndset/anti-bruteforce/actions/workflows/tests&lint.yml)

Проект Anti-bruteforce представляет собой сервис, который предотвращает атаки на сервер путём перебора комбинаций логина и пароля с определённого IP адресса. В основе данного сервиса лежит ограничение скорости (Rate limiting) путём использования алгоритма "Протекающего ведра" (Leaky bucket), который реализован с помощью key-value хранилища данных Redis.  

Сервис получает HTTP-запрос и возвращает 200 StatusOK в случае, если запрос предположительно не участвует в bruteforce атаке и 429 TooManyRequests в случае, если на сервер предположительно ведётся bruteforce атака. В данном случае исходящий IP  адресс блокируется для запросов на минуту.  

Сервис поддерживает испоьзование blacklist и whitelist путём добавления в них подсетей с маской вида `255.255.255.0/24`.  

Команда `abfcli` открывает CLI-сервис для управления сервисом, для получения информации используйте `abfcli -h` или `abfcli --help`.

# Запуск 

1. Установите репозиторий командой 
`git clone https://github.com/Pos1t1veM1ndset/anti-bruteforce.git`
2. Перейдите в директорию проекта с помощью 
`cd anti-bruteforce`

# Настройка

Сервис и CLI конфигурируются с помощью `toml` конфигурационных файлов. Примеры корректных конфигурационных файлов находятся в репозитории. 
Количество попыток авторизации задаётся 3 числами: 
   * не более N попыток в минуту для данного логина
   * не более M попыток в минуту для данного пароля
   * не более K попыток в минуту для данного IP

# Отказ от ответсвенности

Данный сервис не даёт гарантий защиты от bruteforce атак т.к. находится в открытом доступе и распространяется без лицензии, злоумышленнику не составит труда обойти защиту вследствие открытости механизма её работы.
